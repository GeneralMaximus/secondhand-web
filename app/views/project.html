<!--
  Copyright (c) 2013 Ankur Sethi <contact@ankursethi.in>
  Licensed under the terms of the MIT license.
  See the file LICENSE for copying permissions.
-->

<div ng-controller="ProjectCtrl">
  <div sha-loading="viewLoading">
    <div class="row">
      <div class="span6"><h3><a href="#/">Projects</a> &rarr; {{ parentProject.name }}</h3></div>
      <div class="span2 title-buttons"><button class="btn btn-primary" ng-click="showAddTaskDialog()">New Task</button></div>
    </div>

    <div class="placeholder-view" ng-show="tasks.length == 0">
      <p>No tasks here.</p>
      <p>Click the <span class="ng-action" ng-click="showAddTaskDialog()">New Task</span> button to add some tasks to this project.</p>
    </div>

    <div ng-hide="tasks.length == 0">
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Task</th>
            <th></th>
          </tr>
        </thead>

        <tr ng-repeat="task in tasks">
          <td>{{ $index + 1 }}</td>
          <td><a ng-href="#/task/{{ task.id }}">{{ task.name }}</a></td>
          <td><span class="badge badge-hover" ng-click="SessionTimer.startTimer(parentProject, task)"><i class="icon-play"></i></span></td>
        </tr>
      </table>
    </div>
  </div>
</div>
